<html>



<head>
    <title>选课！</title>
    <link href="css/style.css" rel="stylesheet">
    <link href="css/normalize.css" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="currinfo.js"></script>
    <script type="text/javascript" src="curricula_variable.js"></script>
    <script type="text/javascript" src="format.js"></script>
</head>

<body>
    <header>
        <img src="image/logo.png" alt="Curricula Variable Assistant!" style="transform:scale(0.6); float:left;">
        <div style="float: right">
            <ul class="nav">
                <li><a href="javascript: void(0)">输入</a></li>
                <li><a href="javascript: void(0)">导入</a></li>
                <li><a href="javascript: void(0)">导出</a></li>
            </ul>
        </div>
    </header>
    <div id="input-dialog" class="modal hide">
        <div class="background"></div>
        <div class="card info-card center">
            <h3 class="cva-h3">增加数据</h3>
            <div>
                <textarea id="txtInput" class="data-input expanding" placeholder="JSON数据"></textarea>
            </div>
            <div>
                <span style="float: right; margin-left: 10px;">
                    <button class="cva-form-sz-middle cancel"
                        style="border-color: #e74c3c; background-color: #e74c3c;">取消</button>
                </span>
                <span style="float: right">
                    <button class="cva-form-sz-middle confirm"
                        style="border-color: #3498db; background-color: #3498db;">确认</button>
                </span>
                <script>
                    var inputMode = -1;
                    $("ul.nav li a").eq(0).click(() => showInputDialog(0));
                    $("ul.nav li a").eq(1).click(() => showInputDialog(1));
                    $("ul.nav li a").eq(2).click(() => showInputDialog(2));
                    $("button.cancel").click(() => hideInputDialog());
                    $("button.confirm").click(()=>{
                        switch (inputMode) {
                            case 0: process_json($("#txtInput").val()); break;
                            case 1: importData($("#txtInput").val()); break;
                            case 2: $("#txtInput").val(exportData()); break;
                        }
                        hideInputDialog();
                    });
                    function showInputDialog(mode) {
                        inputMode = mode;
                        switch (mode) {
                            case 0: $("#input-dialog h3").text("输入JSON数据"); break;
                            case 1: $("#input-dialog h3").text("导入课程数据"); break;
                            case 2: $("#input-dialog h3").text("导出课程数据"); break;
                        }
                        $("#input-dialog").removeClass("hide");
                    }
                    function hideInputDialog() {
                        inputMode = -1;
                        $("#input-dialog").addClass("hide");
                    }
                </script>
            </div>
        </div>
    </div>
    <div class="row">
        <div id="timetable-area" class="column left">
            <table class="pure-table pure-table-bordered timetable"></table>
        </div>
        <div class="column right">
            <div>
                <ul class="nav course-nav" style="width: auto;">
                    <li><a href="javascript: void(0)">系统推荐课程</a></li>
                    <li><a href="javascript: void(0)">体育课</a></li>
                    <li><a href="javascript: void(0)">通选课</a></li>
                </ul>
            </div>
            <ul class="clist"></ul>
        </div>
    </div>
    <div class="footer"></div>
    <script>
        initCourseList();
    </script>
</body>

</html>